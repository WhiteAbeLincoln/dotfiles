#!/usr/bin/env bash
# [ $# -ge 1 -a -d "$1" ] && input="$1" || input="-"

ERROR_FILE="/tmp/themeswitcher-error"
OUT_FILE="/tmp/themswitcher-out"

if [[ ! -d "$HOME/.shell-themes" ]]; then
    echo "no themes directory found" >> $ERROR_FILE
    exit 72 # EX_OSFILE
fi

theme=$(ls $HOME/.shell-themes/ | rofi -dmenu)
input="$HOME/.shell-themes/$theme"

$HOME/bin/switcher.py $input >> $ERROR_FILE

# restart lemonbar
$HOME/bin/kill_bar.sh
$HOME/bin/barrun &
# restart dunst
pkill dunst
dunst -config ~/.config/dunst/dunstrc &
